<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Wiztivi Gaming Backend Quizz">
    <meta name="author" content="Clément Louarn">
    <link rel="icon" href="image/favicon.ico">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />


    <title>WTG Backend Quizz</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <!-- Bootstrap theme -->
    <link href="css/bootstrap-theme.css" rel="stylesheet" />
    <!-- Highlight.js code synthax highlight -->
    <link rel="stylesheet" href="highlight/styles/railscasts.css" />
    
  </head>

  <body>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="https://www.wiztivi.com/wiztivi-gaming-2/"><img alt="WiztiviGaming" src="image/wiztivigaminglogo_2.png"></a>
        </div>
      </div>
    </nav>
	  
	  
    <div class="container theme-showcase" role="main">

      <!-- Main jumbotron for a primary marketing message or call to action -->
      <div class="jumbotron">
        <h2>Wiztivi Gaming - Backend Candidate Quizz</h2>
         <ul>
			<li>Dear applicant, we would like you to answer these few questions as well as the code exercise in order to judge your coding style, your current level and your capacity of analysis.<br>
             Most of the questions don't have ONE exact answer but they will help us understanding your mindset.</li>
             <li>Answer with bullet points:
			<ul>
				<li>Single sentence per bullet point</li>
				<li>Max 4 bullet points per question</li>
			</ul>
			</li>
			<li>Return your answers to gamingjobs@wiztivi.com in a file named after the following pattern: yourname_quiz</li>
            <li>Good luck!</li>
          </ul>
      </div>      

<!-- QUESTION 1 -->      
      <div class="page-header">
        <h2><span class="label label-warning">Q1</span> Code review : Write your comments on this function</h2>
      </div>
      <div class="well">
		
		<p>Someone in your team wrote the following piece of code as part of one of his tasks and you have been assigned for code review.</p>
		<pre><code>
public function functiontogetTheNickname($user, $slot = NULL, $returnAllData, $includeDeletedNicknames = NULL) {
	if($returnAllData == true){
		if($includeDeletedNicknames) {
			$nicknameData = $this->databaseHandle->getNickname($user, $slot, NULL, $includeDeletedNicknames);
		} else {
			$nicknameData = $this->databaseHandle->getNickname($user, $slot);
		}
		
	} else {
		if($includeDeletedNicknames) {
			$nicknameData = $this->databaseHandle->getNickname($user,$slot,array('stringValue'),$includeDeletedNicknames);
		}  else {
			$nicknameData = $this->databaseHandle->getNickname($user,$slot,array('stringValue'));
		}
	}
	
	foreach($nicknameData as $key => $value){
	$nicknameData[$key] = Toolbox::unEscape($value);
	}
	
	return $nicknameData;
}
		</code></pre>
      </div>
<!-- QUESTION 1 -->

<!-- QUESTION 2 -->     
      <div class="page-header">
        <h2><span class="label label-warning">Q2</span> Front end login: Could you propose a fix for this login script?</h2>
      </div>
      <div class="well">
		
		<pre><code>
$login = $_POST['login'];
$password = $_POST['password'];

if($login == 'admin' && $password == 'ferefoiej'){
	header('Location: /home.html');
}

header('Location: /login_form.html'); 
		</code></pre>
      </div>
<!-- QUESTION 2 --> 

<!-- QUESTION 3 -->
      <div class="page-header">
        <h2><span class="label label-warning">Q3</span> What problems do you see with this API?</h2>
      </div>
      <div class="well">
		
		<p>Your colleague sent you the specs for a service he is about to provide you:</p>
		<pre><code>
GET /surveys
POST /surveys/new
POST /surveys/{id}/update
POST /surveys/{id}/rename
DELETE /surveys/?id={id}
PUT /surveys/{id}/addQuestion
POST /surveys/{id}/updateQuestion
DELETE /surveys/{id}/question/{id}/delete
		</code></pre>
      </div>
<!-- QUESTION 3 -->

<!-- QUESTION 4 -->
      <div class="page-header">
        <h2><span class="label label-warning">Q4</span> Adding a user: Why is the following design flawed?</h2>
      </div>
      <div class="well">
		
		<p>This is the table schema</p>
		<pre><code>
CREATE TABLE `user` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `login` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `login` (`login`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
		</code></pre>
		
		<p>This is the login script</p>
		<pre><code>
$login = $_POST['login'];
$password = $_POST['password'];
$user = new User();
$user->initialize($login, $password);
		</code></pre>
		
		<p>This is the function in the User class</p>
		<pre><code>
public function initialize($login, $password) {
	if(!empty($this->getUser($login))) {
		return "A user with the same login is already exisiting";
	}
	
	$query = "INSERT INTO user('login', 'password') VALUES ('$login', '$password')";
	$databaseQuery = new DatabaseQuery($query, $this->connection);
	
	$this->log->info("Added a user with login:'$login' and password:'$password');
	
	return SUCCESS;
}
		</code></pre>
		
      </div>
<!-- QUESTION 4 -->

<!-- QUESTION 5 -->
      <div class="page-header">
        <h2><span class="label label-warning">Q5</span> What are the value of $a and $b ? Explain why it behaves so.</h2>
      </div>
      <div class="well">
		
		<pre><code>
$a = 1;
$b = 1;

decR(incR($a));
dec(inc($b));

function incR(&$d){
	$d++;
}

function decR(&$d){
	$d--;
}

function inc($d){
	$d++;
	return $d;
}


function dec($d){
	$d--;
}
		</code></pre>
      </div>
<!-- QUESTION 5 -->

<!-- QUESTION 6 -->
      <div class="page-header">
        <h2><span class="label label-warning">Q6</span> Object Oriented and coding principles: What problems do you see in the code below?</h2>
      </div>
      <div class="well">
		
		<p>Your colleague sent you the specs for a service he is about to provide you:</p>
		<pre><code>
$user = new User('Mary', 'Poppins');

$user->address = '17 Cherry Tree Lane';

echo $user->firstName;
echo $user->lastName;
		</code></pre>
      </div>
<!-- QUESTION 6 -->

<!-- QUESTION 7 -->
      <div class="page-header">
        <h2><span class="label label-warning">Q7</span> The following code provokes a division by 0 error. With Exception, display an error message with the line of the error.</h2>
      </div>
      <div class="well">
		
		<pre><code>
0/0;
		</code></pre>
      </div>
<!-- QUESTION 7 -->

<!-- QUESTION 8 -->
      <div class="page-header">
        <h2><span class="label label-warning">Q8</span> Database schema: Analyse this xml schema</h2>
      </div>
      <div class="well">
		
		<pre><code>
CREATE TABLE `user` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `first_name` varchar(100) NOT NULL,
  `last_name` varchar(100) NOT NULL,
  `password` varchar(100) NOT NULL,
  `last_login_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `person` (`first_name`, `last_name`),
  UNIQUE KEY `login` (`first_name`, `password`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
		</code></pre>
		
	<p>This table contains a few millions lines after a year of use.<br>
	The schema is used mostly as such:<br>
	<br>
	Access of the users:
	<pre><code>
SELECT * FROM user WHERE first_name='{$firstName}' AND password='{$password}'
	</code></pre>
	
	Real time KPI:
	<pre><code>
SELECT count(id) FROM user WHERE last_login_date > {$currentDateMinus1Hour}
SELECT count(id) FROM user WHERE last_login_date > {$currentDayAt0}
	</code></pre>
	</p>
      </div>
<!-- QUESTION 8 -->

<!-- QUESTION 9 -->
      <div class="page-header">
        <h2><span class="label label-warning">Q9</span> Do you see anything wrong with this function?</h2>
      </div>
      <div class="well">
		
		<pre><code>
function increaseCredit($amount, $isCredit) {
  if (!$isCredit) {
    $this.debitBalance += amount;
  } else {
    $this.creditBalance += amount;
  }
};
		</code></pre>
      </div>
<!-- QUESTION 9 -->

<!-- QUESTION 10 -->
      <div class="page-header">
        <h2><span class="label label-warning">Q10</span> Effectuer une requete SQL entre ces deux tables afin de récupérer la liste de tous les articles et de leurs catégories respectives:</h2>
      </div>
      <div class="well">	
		<p>Structure de la table `post`</p>
		<pre><code>
CREATE TABLE IF NOT EXISTS `post` (
  `post_id` int(11) NOT NULL auto_increment,
  `post_title` varchar(50) NOT NULL,
  `category_id` int(11) default NULL,
  PRIMARY KEY  (`post_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=10 ;
		</code></pre>
		
		<p>Contenu de la table `post`</p>
		<pre><code>
INSERT INTO `post` (`post_id`, `post_title`, `category_id`) VALUES
(1, 'Bienvenue', 1),
(2, 'Settimeout Javascript', 2),
(3, 'Sprites CSS', 3),
(4, 'Firebug', 2),
(5, 'Google Apps', NULL),
(6, 'Colorisation Photoshop', 3),
(7, 'Base photographie', 5),
(8, 'Jointure SQL', 4),
(9, 'Article top secret', NULL);
		</code></pre>
      </div>
      
      	<p>Structure de la table `category`</p>
		<pre><code>
CREATE TABLE IF NOT EXISTS `category` (
  `category_id` int(11) NOT NULL auto_increment,
  `category_name` varchar(50) NOT NULL,
  PRIMARY KEY  (`category_id`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=7 ;
		</code></pre>
		
		<p>Contenu de la table `category`</p>
		<pre><code>
INSERT INTO `category` (`category_id`, `category_name`) VALUES
(1, 'News'),
(2, 'Javascript'),
(3, 'Graphisme'),
(4, 'SQL'),
(5, 'Photographie'),
(6, 'PHP');
		</code></pre>
      </div>
<!-- QUESTION 10 -->

<!-- QUESTION 11 -->
      <div class="page-header">
        <h2><span class="label label-warning">Q11</span> Coding task</h2>
      </div>
      <div class="well">
		<p>Go to the following codepen: <a href="https://codepen.io/clouarn/pen/PmrRPM">https://codepen.io/clouarn/pen/PmrRPM</a>. See the code comments for the assignment. Remember to <em>click save</em> and return the url for the codepen you created.</p>
	
      </div>
<!-- QUESTION 11 -->


    </div> <!-- /container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery</script>
    <script src="js/bootstrap.min.js"></script>
    <script src="highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  

<div id="global-zeroclipboard-html-bridge" class="global-zeroclipboard-container" style="position: absolute; left: 0px; top: -9999px; width: 15px; height: 15px; z-index: 999999999;" title="" data-original-title="Copy to clipboard"> <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%"> <param name="movie" value="/assets/flash/ZeroClipboard.swf?noCache=1496664736905"> <param name="allowScriptAccess" value="sameDomain"> <param name="scale" value="exactfit"> <param name="loop" value="false"> <param name="menu" value="false"> <param name="quality" value="best"> <param name="bgcolor" value="#ffffff"> <param name="wmode" value="transparent"> <param name="flashvars" value="trustedOrigins=getbootstrap.com%2C%2F%2Fgetbootstrap.com%2Chttp%3A%2F%2Fgetbootstrap.com"> <embed src="/assets/flash/ZeroClipboard.swf?noCache=1496664736905" loop="false" menu="false" quality="best" bgcolor="#ffffff" name="global-zeroclipboard-flash-bridge" allowscriptaccess="sameDomain" allowfullscreen="false" type="application/x-shockwave-flash" wmode="transparent" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="trustedOrigins=getbootstrap.com%2C%2F%2Fgetbootstrap.com%2Chttp%3A%2F%2Fgetbootstrap.com" scale="exactfit" width="100%" height="100%"> </object></div><svg xmlns="http://www.w3.org/2000/svg" width="1140" height="500" viewBox="0 0 1140 500" preserveAspectRatio="none" style="display: none; visibility: hidden; position: absolute; top: -100%; left: -100%;"><defs><style type="text/css"/></defs><text x="0" y="57" style="font-weight:bold;font-size:57pt;font-family:Arial, Helvetica, Open Sans, sans-serif">Thirdslide</text></svg></body></html>